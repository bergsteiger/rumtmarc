: K387088981

: "Перезаписать фильтр с новым именем новым параметром для" STRING IN aName STRING IN aNameNew IN aProc IN aKZ
 VAR Сделано
 НЕТ >>> Сделано
 INTERFACE VAR l_Node

 : Действия

  aProc DO
  wait:No
  TRY
  
  : Вводим_новое_имя_фильтра
    "Ввести {(aNameNew)}"
    "Нажать Ok"
   ;  // Вводим_новое_имя_фильтра 

  "Обработать Enter модально" ( "Нажать Нет" Вводим_новое_имя_фильтра )

  FINALLY
   waited:? ASSERT
  END
 ; // Действия

 aKZ DO
 "Открыть фильтры"

 ПОКА ( НЕ Сделано )
 BEGIN
  контрол::FiltersList:push "Текущая нода дерева" =: l_Node
  l_Node "Предыдущая нода" IF
   ДА >>> Сделано
  ENDIF

  ( l_Node "Текст ноды" "НЕ РАВНО" aName ) IF
   "Стрелка вниз"
  ELSE
   @ "Редактировать фильтр" MODAL ( Действия )
  ENDIF
 END
 "Дождаться переключения вкладок"
; // "Перезаписать фильтр с новым именем новым параметром для"

 CONST Filter 'Мой фильтр'
 CONST Filter_new 'Мой фильтр (новый)'

 : Параметр1
  "в поле 'Тип' ввести {('Акт')}"
 ;

 : Параметр2
  "в поле 'Слова в названии' ввести {('порт')}"
 ;

 "Создать фильтр с именем {(Filter)} и с параметром {(@ Параметр1)} для {(@ ППР)}"
 "Список всех документов"

 : Действия_с_примененным_фильтром
  "Перезаписать фильтр {(Filter)} с новым именем {(Filter_new)} новым параметром  {(@ Параметр2)} для {(@ NOP )}"
 ; // Действия_с_примененным_фильтром

 "Применить фильтр {(15)} и выполнить {(@ Действия_с_примененным_фильтром )}"
 "Сравнить контекстное меню с эталоном"
 "Удалить фильтр с именем {(Filter)} для {(@ NOP )}"
 "Удалить фильтр с именем {(Filter_new)} для {(@ ППР )}"
;

K387088981