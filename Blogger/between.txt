<div dir="ltr" style="text-align: left;" trbidi="on">
Эта статья опять будет без отсылок к Delphi.<br />
<br />
Да простят меня Borland и Embarcadero.<br />
<br />
&nbsp;Вот тут - <b>http://18delphi.blogspot.ru/2013/11/gui_9015.html</b> я описал использование слова WORDWORKER.<br />
<br />
На самом деле - использование этого слова - позволяет ЗНАЧИТЕЛЬНО влиять на грамматику языка.<br />
<br />
Это слово и подобные ему позволяют формировать "свой DSL" из аксиоматики заданной в коде скриптовой машины на Delphi (всё же одна отсылка есть)<br />
<br />
&nbsp;Приведу ещё один пример.<br />
<br />
&nbsp;Давайте узнаем входит ли число в заданный интервал.<br />
<br />
Например между 2 и 10.<br />
<br />
&nbsp;В нашем языке конечно есть конструкция if и всякие разные операторы сравнения. Как они "устроены внутри" - я КОНЕЧНО ЖЕ позже расскажу.<br />
<br />
А пока - вернёмся к нашей задаче.<br />
<br />
&nbsp;На "хардкорном" уровне поставленная выше задача решается так:

<br />
<br />
<pre class="brush:delphi">X 2 &gt;= IF (
 X 10 &lt;= IF
  true
 ELSE
  false
)
ELSE
 false
</pre>
<br />
По-русски? Да что-то - СОВСЕМ не по-русски. Да и "обратная польская запись". Не все её любят.<br />
<br />
&nbsp;Поработаем над этим.
<br />
<br />
Ещё один "анонс" - у нас есть не только слово WORDWORKER, но и WORDWORKERFUNCTION. Название "то ещё". Но учитывая наличие слова WordAlias - любой желающий может придумать ему подходящий синоним и пользоваться им.<br />
<br />
WORDWORKERFUNCTION отличается от WORDWORKER тем, что не только умеет работать с "параметрами слева" или "параметрами справа", но и возвращать значение.<br />
<br />
Попробуем описать слова "между" и "строго между".<br />
<br />
Выглядит это так:<br />
<br />
<pre class="brush:delphi">BOOLEAN WORDWORKERFUNCTION между INTEGER IN anX
 INTEGER VAR "Нижняя граница"
 INTEGER VAR "Верхняя граница"
 WordToWork // - слово справа, а на самом деле может быть "последовательность слов", за счёт оператора "скобки" (о нём я расскажу позже)
 DO // - вычисляем переданное слово
 =: "Верхняя граница" // - снимаем со стека верхнюю границу
 =: "Нижняя граница" // - снимаем со стека нижнюю границу
 anX "Нижняя граница" &gt;= IF (
  X "Нижняя граница" &lt;= IF
   true =: Result
  ELSE
   false =: Result
 )
 ELSE
  false =: Result
END //между

BOOLEAN WORDWORKERFUNCTION "строго между" INTEGER IN anX
 INTEGER VAR "Нижняя граница"
 INTEGER VAR "Верхняя граница"
 WordToWork // - слово справа, а на самом деле может быть "последовательность слов", за счёт оператора "скобки" (о нём я расскажу позже)
 DO // - вычисляем переданное слово
 =: "Верхняя граница" // - снимаем со стека верхнюю границу
 =: "Нижняя граница" // - снимаем со стека нижнюю границу
 anX "Нижняя граница" &gt; IF (
  X "Нижняя граница" &lt; IF
   true =: Result
  ELSE
   false =: Result
 )
 ELSE
  false =: Result
END //между
</pre>
<br />
Пример использования:
<br />
<br />
<pre class="brush:delphi"> 
 3 между ( 2 5 ) // true
 0 между ( 2 5 ) // false
 2 между ( 2 5 ) // true
 5 между ( 2 5 ) // true
 10 между ( 2 5 ) // false

 3 "строго между" ( 2 5 ) // true
 2 "строго между" ( 2 5 ) // false
 5 "строго между" ( 2 5 ) // false
 0 "строго между" ( 2 5 ) // false
 10 "строго между" ( 2 5 ) // false
</pre>
<br />
Ну и ещё есть "синтаксический сахар", что а_без_пробелов равно "а_без_пробелов" поэтому для "единообразия можно писать и так:
<br />
<br />
<pre class="brush:delphi"> 3 "между" ( 2 5 ) // true
 0 "между" ( 2 5 ) // false
 2 "между" ( 2 5 ) // true
 5 "между" ( 2 5 ) // true
 10 "между" ( 2 5 ) // false

 3 "строго между" ( 2 5 ) // true
 2 "строго между" ( 2 5 ) // false
 5 "строго между" ( 2 5 ) // false
 0 "строго между" ( 2 5 ) // false
 10 "строго между" ( 2 5 ) // false
</pre>
<br /></div>